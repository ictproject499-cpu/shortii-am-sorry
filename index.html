<!-- Save as: sorry_for_ananya_friend_bw_new_animation.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>I'm Sorry, Ananya</title>
  <style>
    :root{
      --bg:#000000;
      --card:#ffffff;
      --accent:#7c7c7c;
      --muted:#444444;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Arial;color:var(--muted);background:linear-gradient(160deg,#000000 0%, #222222 60%);display:flex;align-items:center;justify-content:center}
    .card{
      width:90%;
      max-width:780px;
      background:#ffffff;
      border-radius:18px;
      padding:34px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      position:relative;
      overflow:hidden;
      border:1px solid rgba(0,0,0,0.1);
      color:#000;
      transform: scale(0.9);
      opacity: 0;
      animation: cardFadeIn 0.8s forwards;
    }

    h1{margin:0 0 8px 0;font-size:30px;color:#000;letter-spacing:0.2px}
    .sub{font-size:15px;margin-bottom:18px;color:var(--muted)}
    .message{font-size:18px;line-height:1.6;min-height:120px;color:#000; position: relative;}
    .meta{margin-top:20px;display:flex;gap:10px;align-items:center}
    .from{font-weight:600;color:var(--muted)}
    .btn{
      margin-left:auto;
      background:transparent;border:1px solid rgba(0,0,0,0.1);padding:8px 14px;border-radius:10px;color:var(--muted);cursor:pointer;
    }
    .icon {
      position:absolute;right:-10px;top:-20px;width:150px;height:150px;opacity:0.05;
      background: radial-gradient(circle at 30% 30%, var(--accent), transparent 40%);
      transform: rotate(-15deg);
      filter: blur(12px);
    }

    /* typing cursor */
    .typing { display:inline-block; border-right:2px solid rgba(0,0,0,0.6); padding-right:2px; animation: blink 1s steps(2, start) infinite;}
    @keyframes blink { to { border-color: transparent; } }

    /* card fade-in animation */
    @keyframes cardFadeIn {
      0% { transform: scale(0.9); opacity: 0; }
      50% { transform: scale(1.05); opacity: 1; }
      100% { transform: scale(1); }
    }

    /* message shake animation on replay */
    @keyframes shake {
      0%{transform: translateX(0)}
      20%{transform: translateX(-4px)}
      40%{transform: translateX(4px)}
      60%{transform: translateX(-4px)}
      80%{transform: translateX(4px)}
      100%{transform: translateX(0)}
    }

    footer{font-size:13px;color:var(--muted);margin-top:18px}
    @media (max-width:560px){h1{font-size:22px}.card{padding:20px}}
  </style>
</head>
<body>
  <div class="card" role="main" aria-label="Apology card for Ananya">
    <div class="icon" aria-hidden="true"></div>

    <h1>Hey Ananya —</h1>
    <div class="sub">I want to clear the air and apologize sincerely.</div>

    <div class="message" id="message" aria-live="polite"></div>

    <div class="meta">
      <div class="from">— <span id="senderName">Ansh</span></div>
      <button class="btn" id="replay">Replay</button>
    </div>

    <footer>Click <strong>Replay</strong> to see the message again.</footer>
  </div>

<script>
  const sender = "Ansh";
  document.getElementById('senderName').textContent = sender;

  const apology = [
    "I want to sincerely apologize, Ananya. I reacted without checking the facts first, and that was unfair.",
    "I value our friendship a lot, and I don’t want a misunderstanding to come between us.",
    "I take responsibility for my mistake and hope we can talk it out calmly.",
    "I promise to be more careful and communicate better going forward."
  ].join(" ");

  const target = document.getElementById('message');

  function typeText(text, el, speed=28) {
    el.textContent = "";
    let i = 0;
    const wrapper = document.createElement('span');
    el.appendChild(wrapper);
    function step(){
      if(i < text.length){
        wrapper.textContent += text.charAt(i);
        i++;
        setTimeout(step, speed);
      } else {
        wrapper.classList.remove('typing');
      }
    }
    wrapper.classList.add('typing');
    step();
  }

  function play() {
    target.innerHTML = "";
    target.style.animation = 'shake 0.5s';
    typeText(apology, target, 28);
    setTimeout(()=>{ target.style.animation = ''; }, 500);
  }

  document.getElementById('replay').addEventListener('click', play);
  setTimeout(play, 700);
</script>
</body>
</html>
